---
import { getCollection } from 'astro:content';
import Layout from '../layouts/Layout.astro';
const repositories = await getCollection('repositories');
console.log(repositories);
---


<Layout>
	<div class="md:max-w-[50vw] md:w-3/4 px-8 my-8">
		<div class="flex w-full gap-3">
			<input class="flex-grow text-sm px-3 py-1 bg-transparent border border-gray-500 rounded-md" placeholder="Find a repository..." ="text">
			<button class="text-sm px-3 py-1 bg-gray-700 border border-gray-500 rounded-md">Type</button>
			<button class="text-sm px-3 py-1 bg-gray-700 border border-gray-500 rounded-md">Language</button>
			<button class="text-sm px-3 py-1 bg-gray-700 border border-gray-500 rounded-md">Sort</button>
			<button class="text-sm px-3 py-1 bg-green-600 border border-green-600 rounded-md">New</button>
		</div>

		<div>
		{repositories.map((repository, index) => {
			const { slug, data } = repository;
			const { title, description, techStack, license } = data;
			
			return(
			<div id={`${index}`} class="border-t border-b border-gray-500 py-6 my-4">
				<a class="text-lg font-bold text-blue-500" href={`https://github.com/javsanmar5/${slug}`}>{title}</a>
				<p class="text-sm text-gray-500 ">{description}</p>
				<ul>
					{techStack.map((tech: string, index: number) => {
						return(
						<li id={`${index}`} class="inline-block bg-gray-700 text-white px-2 py-1 rounded-md text-xs mr-2 my-3">{tech}</li>
						);
					})}
				</ul>
				<p class="text-sm text-gray-500 ">{license}</p>
			</div>
			);
		})}
		</div>
	<div/>
</Layout>

